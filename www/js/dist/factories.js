!function(){"use strict";function e(e,n,t,o,r,i,u){function c(){return n.lastServidor().then(function(e){return e[0].servidor},function(e){d(e)})}function a(e){return c().then(function(n){return f=n,"http://"+n+"/datasnap/rest/TServidorDeMetodosGerais/"+e},function(e){d(e)})}function s(){i(function(){r.hide()},1e3)}function d(e){var n="Não foi possível concluir o processo. \nContate o Suporte",t=e.status;e.data&&u.info("Atenção: "+e.data.error+"\nStatus: "+t),-1==t&&(n="Não foi possível conectar com o Servidor. \nVerifique se o servidor está ativo ou configure o IP novamente",u.error("Problemas de Conexão: Servidor não está conectado, ip/porta: "+f)),l(n,t)}function l(e,n){return s(),o.show({template:e,title:"Atenção",buttons:[{text:"OK",type:"button-positive",onTap:function(e){}}]})}var f=null;return{link:a,async:function(n){return r.show(),a(n).then(function(n){return e.get(n).then(function(e){return s(),e.data.result},function(e){d(e)})})},asyncLogin:function(n){return r.show(),a(n).then(function(n){return e.get(n,{timeout:3e4}).then(function(e){return s(),e.data.result},function(e){d(e)})})}}}angular.module("sied.factories").factory("ClientAPIFactory",e),e.$inject=["$http","ServidorFactory","$window","$ionicPopup","$ionicLoading","$timeout","$log"]}(),function(){"use strict";function e(e,n){function t(){i=new PouchDB("sied_dev",{adapter:"websql"})}function o(e){var n=r(u,e.id),t=u[n];e.deleted?t&&u.splice(n,1):t&&t._id===e.id?u[n]=e.doc:u.splice(n,0,e.doc)}function r(e,n){for(var t,o=0,r=e.length;o<r;)e[t=o+r>>>1]._id<n?o=t+1:r=t;return o}var i,u,c;return t(),{initDB:t,allServidores:function(){return e.when(i.allDocs({include_docs:!0})).then(function(e){return u=e.rows.map(function(e){return e.doc}),i.changes({live:!0,since:"now",include_docs:!0}).on("change",o),u})},addServidor:function(t){return e.when(i.put(t)).then(function(e){return e}).catch(function(e){n.error(e)})},updateServidor:function(t){return e.when(i.put(t)).then(function(e){return e}).catch(function(e){n.error(e)})},deleteServidor:function(n){return e.when(i.remove(n)).then(function(e){return e}).catch(function(e){return e})},findByValue:function(n){return e.when(i.find({selector:{Ip:n}})).then(function(e){return c=e.docs[0]})}}}angular.module("sied.factories").factory("DataFactory",e),e.$inject=["$q","$log"]}(),function(){"use strict";angular.module("sied.factories").factory("HostFactory",function(){var e,n;return{setConfig:function(n){e=n},getConfig:function(){return e},setCnpj:function(e){n=e},getCnpj:function(){return n}}})}(),function(){"use strict";function e(e){return{montar:function(n){var t=e.defer(),o=[];return 0==n?(o=[{Evento:"vm.MudarSlide(0)",Icone:"ion-android-settings",Nome:"Configuração",Index:8,Template:"templates/tab-config.html"},{Evento:"vm.MudarSlide(1)",Icone:"ion-happy-outline",Nome:"Sobre Nós",Index:9,Template:"templates/tab-sobre.html"}],t.resolve(o),t.promise):(o=[{Evento:"vm.MudarSlide(0)",Icone:"ion-ios-home",Nome:"Início",Index:0,Template:"templates/tab-inicio.html"},{Evento:"vm.MudarSlide(1)",Icone:"ion-social-usd",Nome:"Caixa",Index:1,Template:"templates/tab-caixa.html"},{Evento:"vm.MudarSlide(2)",Icone:"ion-cash",Nome:"Vendas",Index:2,Template:"templates/tab-vendas.html"},{Evento:"vm.MudarSlide(3)",Icone:"ion-beer",Nome:"Vendas em Consumo",Index:3,Template:"templates/tab-consumo.html"},{Evento:"vm.MudarSlide(4)",Icone:"ion-clipboard",Nome:"Estoque",Index:4,Template:"templates/tab-estoque.html"},{Evento:"vm.MudarSlide(5)",Icone:"ion-sad-outline",Nome:"Cancelamentos",Index:5,Template:"templates/tab-cancelamentos.html"},{Evento:"vm.MudarSlide(6)",Icone:"ion-calculator",Nome:"Financeiro",Index:6,Template:"templates/tab-financeiro.html"},{Evento:"vm.MudarSlide(7)",Icone:"ion-ios-cart",Nome:"Compras",Index:7,Template:"templates/tab-compras.html"},{Evento:"vm.MudarSlide(8)",Icone:"ion-mic-a",Nome:"Couvert",Index:8,Template:"templates/tab-couvert.html"},{Evento:"vm.MudarSlide(9)",Icone:"ion-android-settings",Nome:"Configurar Servidores",Index:9,Template:"templates/tab-config.html"},{Evento:"vm.MudarSlide(10)",Icone:"ion-happy-outline",Nome:"Sobre Nós",Index:10,Template:"templates/tab-sobre.html"}],t.resolve(o),t.promise)}}}angular.module("sied.factories").factory("MenuFactory",e),e.$inject=["$q"]}(),function(){"use strict";function e(e,n){function t(){r=new PouchDB("sied_selected",{adapter:"websql"})}function o(){return e.when(r.find({selector:{_id:{$gte:null}}}).then(function(e){return i=e.docs}).catch(function(e){n.info(e)}))}var r,i,u;return t(),{initDB:t,allServidores:function(){return e.when(r.allDocs({include_docs:!0})).then(function(e){return i=e.rows.map(function(e){return e.doc})})},addServidor:function(t){return o(),e.when(r.put(t)).then(function(e){return e}).catch(function(e){n.error(e)})},lastServidor:o,findByValue:function(n){return e.when(r.find({selector:{servidor:n}})).then(function(e){return u=e.docs[0]})},deleteServidor:function(n){return e.when(r.remove(n)).then(function(e){return e}).catch(function(e){return e})},limparServidores:function(){return e.when(r.allDocs({include_docs:!0})).then(function(e){var n=0;if((i=e).total_rows>0)for(;n<i.total_rows;)r.remove(i.rows[n].doc),n++})}}}angular.module("sied.factories").factory("ServidorFactory",e),e.$inject=["$q","$log"]}(),function(){"use strict";angular.module("sied.factories").factory("SlideIndexFactory",function(){var e;return{setIndex:function(n){e=n},getIndex:function(){return e}}})}(),function(){"use strict";angular.module("sied.factories").factory("UsuarioFactory",function(){function e(e){r=e}function n(e){i=e}function t(e){u=e}function o(e){c=e}var r,i,u,c;return{setParams:function(r){e(r.setCodigo),n(r.Nome),t(r.Senha),o(r.Nivel)},setCodigo:e,getCodigo:function(){return r},setNome:n,getNome:function(){return i},setSenha:t,getSenha:function(){return u},setNivel:o,getNivel:function(){return c}}})}();